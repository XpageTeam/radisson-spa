{"version":3,"sources":["common.js"],"names":["window","frameCacheVars","undefined","BX","addCustomEvent","json","loadScripts","$","log","str","console","top","on","scrollTop","fancybox","beforeShow","addClass","afterClose","removeClass","width","scrollTo","slick","slide","slidesToShow","slidesToScroll","arrows","dots","speed","autoplay","autoplaySpeed","fade","cssEase","setTimeout","resize","click","$this","closest","find","slideToggle","zakuski","clone","append","prepend","css","toggleClass","wrap","videoEl","document","getElementsByTagName","play"],"mappings":";;AAAA,IAAIA,OAAOC,cAAP,KAA0BC,SAA9B,EACIC,GAAGC,cAAH,CAAkB,qBAAlB,EAA0C,UAACC,IAAD,EAAU;AACnDC;AACA,CAFD;AAGJ;AACA;AACA;AACA;AAPA,KASCC,EAAE,YAAM;AACPD;AACA,EAFD;;AAID,IAAIE,MAAM,SAANA,GAAM,CAACC,GAAD,EAAS;AAClBC,SAAQF,GAAR,CAAYC,GAAZ;AACA,CAFD;AAAA,IAGAH,cAAc,SAAdA,WAAc,GAAM;;AAEnB,KAAIK,MAAM,CAAV;;AAEAJ,GAAE,MAAF,EAAUK,EAAV,CAAa,OAAb,EAAsB,WAAtB,EAAmC,YAAU;AACtCD,QAAMJ,EAAEP,MAAF,EAAUa,SAAV,EAAN;AACH,EAFJ;;AAIAN,GAAE,WAAF,EAAeO,QAAf,CAAwB;AAEvBC,YAFuB,wBAEV;AACZR,KAAE,MAAF,EAAUS,QAAV,CAAmB,cAAnB;AACA,GAJsB;AAKvBC,YALuB,wBAKV;AACZV,KAAE,MAAF,EAAUW,WAAV,CAAsB,cAAtB;AACA,OAAIX,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAxB,EACCnB,OAAOoB,QAAP,CAAgB,CAAhB,EAAmBT,GAAnB;AAED;AAVsB,EAAxB;;AAeAJ,GAAE,cAAF,EAAkBc,KAAlB,CAAwB;AACvBC,SAAO,qBADgB;AAEvBC,gBAAc,CAFS;AAGvBC,kBAAgB,CAHO;AAIvBC,UAAQ,KAJe;AAKvBC,QAAM,IALiB;AAMvBC,SAAO,GANgB;AAOvBC,YAAU,IAPa;AAQvBC,iBAAe,IARQ;AASvBC,QAAM,IATiB;AAUvBC,WAAS;AAVc,EAAxB;;AAiBA,KAAGxB,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAvB,EAA2B;AAC1BZ,IAAEP,MAAF,EAAUY,EAAV,CAAa,MAAb,EAAqB,YAAW;AAC/BoB,cAAW,YAAU;AACpBzB,MAAE,MAAF,EAAUW,WAAV,CAAsB,SAAtB;AACA,IAFD,EAEG,IAFH;;AAKA;AACA,GAPD;AAUA;;AAEDX,GAAEP,MAAF,EAAUiC,MAAV,CAAiB,YAAU;AACzBvB,UAAQF,GAAR,CAAY,CAAZ;AACD,EAFD;;AAIAwB,YAAW,YAAU;AACnBzB,IAAE,cAAF,EAAkBS,QAAlB,CAA2B,QAA3B;AACA,EAFF,EAEI,GAFJ;;AAKA,KAAGT,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAvB,EAA4B;AAC3BZ,IAAE,4CAAF,EAAgD2B,KAAhD,CAAsD,YAAU;AAC/D,OAAIC,QAAQ5B,EAAE,IAAF,CAAZ;AACA4B,SAAMC,OAAN,CAAc,mBAAd,EAAmCC,IAAnC,CAAwC,yBAAxC,EAAmEC,WAAnE,CAA+E,MAA/E;AACA,GAHD;;AAKA/B,IAAE,+BAAF,EAAmC2B,KAAnC,CAAyC,YAAU;AAClD,OAAIC,QAAQ5B,EAAE,IAAF,CAAZ;AACA4B,SAAMC,OAAN,CAAc,mBAAd,EAAmCC,IAAnC,CAAwC,aAAxC,EAAuDC,WAAvD,CAAmE,MAAnE;AACA,GAHD;;AAKA/B,IAAE,iCAAF,EAAqC2B,KAArC,CAA2C,YAAU;AACpD,OAAIC,QAAQ5B,EAAE,IAAF,CAAZ;AACA4B,SAAMC,OAAN,CAAc,oBAAd,EAAoCC,IAApC,CAAyC,wBAAzC,EAAmEC,WAAnE,CAA+E,MAA/E;AACA,GAHD;AAIA/B,IAAE,yBAAF,EAA6B2B,KAA7B,CAAmC,YAAU;AAC5C,OAAIC,QAAQ5B,EAAE,IAAF,CAAZ;AACA4B,SAAMC,OAAN,CAAc,iBAAd,EAAiCC,IAAjC,CAAsC,qCAAtC,EAA6EC,WAA7E,CAAyF,MAAzF;AACA,GAHD;;AAMA,MAAIC,UAAUhC,EAAE,4CAAF,EAAgDiC,KAAhD,EAAd;AACAjC,IAAE,gBAAF,EAAoBkC,MAApB,CAA2B;;UAA3B;AAGAlC,IAAE,oBAAF,EAAwBmC,OAAxB,CAAgC;;UAAhC;AAGAnC,IAAE,oBAAF,EAAwBkC,MAAxB,CAA+BF,OAA/B;;AAEAhC,IAAE,mBAAF,EAAuB2B,KAAvB,CAA6B,YAAU;AACtC,OAAIC,QAAQ5B,EAAE,IAAF,CAAZ;AACA4B,SAAMC,OAAN,CAAc,cAAd,EAA8BC,IAA9B,CAAmC,2BAAnC,EAAgEC,WAAhE,CAA4E,MAA5E;AACA,GAHD;AAKA;;AASD,KAAG/B,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAvB,EAA2B;AAC1BZ,IAAE,cAAF,EAAkBoC,GAAlB,CAAsB,SAAtB,EAAiC,MAAjC;AACApC,IAAE,oBAAF,EAAwBoC,GAAxB,CAA4B,SAA5B,EAAuC,OAAvC;AACA;AACA;;AAEDpC,GAAE,SAAF,EAAa2B,KAAb,CAAmB,YAAU;AAC5B3B,IAAE,IAAF,EAAQqC,WAAR,CAAoB,MAApB;AACArC,IAAE,MAAF,EAAUqC,WAAV,CAAsB,mBAAtB;;AAEA;AACA;AACA;;AAGA,EATD;;AAWA,KAAGrC,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAvB,EAA4B;AAC3BZ,IAAE,kBAAF,EAAsBsC,IAAtB,CAA2B,gCAA3B;AACA;;AAGD,KAAGtC,EAAE,MAAF,EAAU8B,IAAV,CAAe,aAAf,CAAH,EAAiC;AAChC,MAAIS,UAAUC,SAASC,oBAAT,CAA8B,OAA9B,EAAuC,CAAvC,CAAd;;AAEAhB,aAAW,YAAU;AACpBc,WAAQG,IAAR;AACA,GAFD,EAEG,IAFH;AAGA;;AAID,KAAIpC,YAAY,CAAhB;;AAEAN,GAAE,MAAF,EAAUK,EAAV,CAAa,OAAb,EAAsB,SAAtB,EAAiC,YAAU;AAC1CC,cAAYN,EAAEP,MAAF,EAAUa,SAAV,EAAZ;AACA,EAFD;;AAIAN,GAAEP,MAAF,EAAUY,EAAV,CAAa,uBAAb,EAAsC,YAAU;AAC/C;AACA;AACA;AACA;AACA;;AAEA,MAAGL,EAAEP,MAAF,EAAUmB,KAAV,KAAoB,GAAvB,EAA4B;;AAK3B;AACA;AACA;AACA;AACA;AACA;AAGD,EApBD;AAsBA,CAzKD","file":"common.js","sourcesContent":["if (window.frameCacheVars !== undefined)\n    BX.addCustomEvent(\"onFrameDataReceived\" , (json) => {\n    \tloadScripts();\n    });\n// else if (BX)\n//     BX.ready(() => {\n//     \tloadScripts();\n//     })\nelse\n\t$(() => {\n\t\tloadScripts();\n\t})\n\nvar log = (str) => {\n\tconsole.log(str)\n},\nloadScripts = () => {\n\n\tvar top = 0;\n\n\t$(\"body\").on(\"click\", \".fancybox\", function(){\n        top = $(window).scrollTop();\n    });\n\n\t$(\".fancybox\").fancybox({\n\n\t\tbeforeShow (){\n\t\t\t$(\"body\").addClass(\"fancy-active\")\n\t\t},\n\t\tafterClose (){\n\t\t\t$(\"body\").removeClass(\"fancy-active\")\n\t\t\tif ($(window).width() < 667)\n\t\t\t\twindow.scrollTo(0, top);\n\n\t\t}\n\n\t});\n\n\n\t$(\".main-slider\").slick({\n\t\tslide: \".main-slider__slide\",\n\t\tslidesToShow: 1,\n\t\tslidesToScroll: 1,\n\t\tarrows: false,\n\t\tdots: true,\n\t\tspeed: 400,\n\t\tautoplay: true,\n\t\tautoplaySpeed: 7000,\n\t\tfade: true,\n\t\tcssEase: 'linear'\n\t});\n\n\t\n\n\n\n\tif($(window).width() > 750){\n\t\t$(window).on(\"load\", function() {\n\t\t\tsetTimeout(function(){\n\t\t\t\t$(\"body\").removeClass(\"loading\");\n\t\t\t}, 3000);\n\t\t\t\n\n\t\t\t// Cookies.set('LOADING-SHOWED', true, { expires: 7 });\n\t\t});\n\n\t\t\n\t}\n\n\t$(window).resize(function(){\n\t  console.log(1);\n\t});\n\n\tsetTimeout(function(){\n\t\t\t$(\".mobile-menu\").addClass(\"visual\");\n\t\t}, 500);\n\n\n\tif($(window).width() < 750) {\n\t\t$('.main-block__menu .main-block__menu--right').click(function(){\n\t\t\tvar $this = $(this);\n\t\t\t$this.closest('.main-block__menu').find('.main-block__menu--left').slideToggle(\"slow\");\n\t\t});\n\n\t\t$('.menu__photo-left .photo-left').click(function(){\n\t\t\tvar $this = $(this);\n\t\t\t$this.closest('.menu__photo-left').find('.menu__list').slideToggle(\"slow\");\n\t\t});\n\n\t\t$('.menu__photo-right .photo-right').click(function(){\n\t\t\tvar $this = $(this);\n\t\t\t$this.closest('.menu__photo-right').find('.menu__list, .info-dop').slideToggle(\"slow\");\n\t\t});\n\t\t$('#menyu-napitkov .wr-img').click(function(){\n\t\t\tvar $this = $(this);\n\t\t\t$this.closest('#menyu-napitkov').find('.menu-title, .menu__list, .info-dop').slideToggle(\"slow\");\n\t\t});\n\n\n\t\tvar zakuski = $('#osnovnye-blyuda .menu__price:nth-child(3)').clone();\n\t\t$('.menu .wrapper').append('<div class=\"js__zakuski\">\\\n\t\t\t\t<div class=\"menu-title\">Закуски</div>\\\n\t\t\t</div>');\n\t\t$('.menu .js__zakuski').prepend('<div class=\"js__zakuski__img\">\\\n\t\t\t\t<img src=\"../local/templates/polza2017/img/zakuski.jpg\">\\\n\t\t\t</div>');\n\t\t$('.menu .js__zakuski').append(zakuski);\n\n\t\t$('.js__zakuski__img').click(function(){\n\t\t\tvar $this = $(this);\n\t\t\t$this.closest('.js__zakuski').find('.menu-title, .menu__price').slideToggle(\"slow\");\n\t\t});\n\n\t}\n\n\n\n\t\n\n\n\n\n\tif($(window).width() < 768){\n\t\t$(\".index-video\").css(\"display\", \"none\");\n\t\t$(\".main-slider__cont\").css(\"display\", \"block\");\n\t\t// $(\"body .loading\").css(\"display\", \"none\");\n\t}\n\n\t$('.burger').click(function(){\n\t\t$(this).toggleClass('open');\n\t\t$('body').toggleClass(\"mobile-menu--open\");\n\n\t\t// setTimeout(function(){\n\t\t// \t$('body').toggleClass('fixed')\n\t\t// }, 500)\n\n\t\t\n\t});\n\n\tif($(window).width() < 750) {\n\t\t$(\".text-page table\").wrap('<div class=\"table-wrap\"></div>');\n\t}\n\t\n\t\n\tif($('body').find('index-video')){\n\t\tvar videoEl = document.getElementsByTagName('video')[0];\n\n\t\tsetTimeout(function(){\n\t\t\tvideoEl.play();\n\t\t}, 3000);\n\t}\n\n\n\n\tvar scrollTop = 0;\n\n\t$(\"body\").on(\"click\", \".burger\", function(){\n\t\tscrollTop = $(window).scrollTop();\n\t});\n\n\t$(window).on(\"load scroll touchmove\", function(){\n\t\t// if ($(window).scrollTop() > 800){\n\t\t// \t$(\".scroll-top\").fadeIn(300);\n\t\t// }else{\n\t\t// \t$(\".scroll-top\").fadeOut(300);\n\t\t// };\n\n\t\tif($(window).width() < 660) {\n\n\n\n\n\t\t\t// if($(window).scrollTop()>0 && !$(\"body\").hasClass('mobile-menu--open')){\n\t\t\t// \t$('.mobile-menu').addClass('fixed');\n\t\t\t// }else {\n\t\t\t// \t$('.mobile-menu').removeClass('fixed');\n\t\t\t// }\n\t\t}\n\n\t\t\n\t});\n\n}"]}